<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Delete Images</title>

<style>
body{
  background:#000;color:#fff;font-family:Arial;
  text-align:center;padding:25px;
}
#box{
  background:#111;padding:20px;border-radius:10px;
  max-width:400px;margin:auto;
  box-shadow:0 0 15px red;
}
input,button{
  width:90%;padding:12px;margin:8px 0;
  border:none;border-radius:6px;font-size:16px;
}
input{background:#1a1a1a;color:#fff;}
button{
  background:#ff1a1a;color:white;font-weight:bold;cursor:pointer;
}
button:hover{opacity:.85;}
#msg{margin-top:10px;font-size:16px;}
</style>
</head>
<body>

<h2>üóë Delete Image from Storage & Database</h2>
<div id="box">
  <input id="name" type="text" placeholder="filename.jpg">
  <button onclick="deleteFile()">Delete</button>
  <p id="msg"></p>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const db = supabase.createClient(
 "https://uekehssbugjcdjopietz.supabase.co",
 "sb_publishable_DhiBec9_K-jgfAuaXLOIJw_7TKC7BBU"
);
const BUCKET="images";

async function deleteFile(){
  let file=document.getElementById("name").value.trim();
  let msg=document.getElementById("msg");

  if(!file){msg.innerHTML="‚ö† Enter file name";return;}

  // delete from storage
  const s = await db.storage.from(BUCKET).remove([file]);
  if(s.error){msg.innerHTML="‚ùå Storage delete failed";return;}

  // delete entry from database table
  await db.from("images").delete().eq("file",file);

  msg.innerHTML="‚úÖ Deleted Successfully!";
}
</script>

</body>
</html>
